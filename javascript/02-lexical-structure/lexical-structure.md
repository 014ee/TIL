# Lexical-Structure

## 🐇 자바스크립트 프로그램의 텍스트

> * 대소문자를 구별한다.&#x20;
> * 토큰 사이의 공백 및 줄바꿈을 무시한다.
> * 스페이스 문자(\u0020) 외에 탭, ASCII 제어 문자, 다양한 유니코드 스페이스 문자를 모두 공백으로 인식한다.
> * 뉴라인(\n), 캐리지 리턴(\r), 캐리지 리턴/라인 피드(\r\n)를 모두 줄바꿈 문자로 인식한다.

## 🐇주석

```javascript
// 이 글은 주석입니다.

/*
* 여러 행에 걸쳐 쓸 수 있지만
* 중첩은 불가능합니다.
*/
```

## 🐇 리터럴

{% hint style="info" %}
리터럴은 프로그램 안에 직접 쓴 데이터 값이다.
{% endhint %}

```javascript
const a = 12
const b = 'b'
const c = false
```

## 🐇 식별자와 예약어

> **식별자**
>
> 상수, 변수, 프로퍼티, 함수, 클래스, 일부 루프의 라벨의 이름을 식별자라고 한다. 첫글자는 글자, 밑줄(\_), 달러($)로만 작성 가능하며 이후에는 글자, 숫자, 밑줄, 달러를 쓸 수 있다.

> **예약어**
>
> 언어 자체에서 사용할 수 있도록 지정된 문자를 예약어라고 하며, 식별자로 사용할 수 없다. 단, from, set, target은 사용해도 안전하며 이미 많이 사용되고 있다.

## 🐇 유니코드

{% hint style="info" %}
자바스크립트 프로그램은 유니코드 문자셋으로 작성된다. 따라서 프로그램을 작성할 때 수학 기호나 영어 이외의 언어(한문, 중문 등), 이모지 등을 쓸 수 있다. 하지만 식별자에는 이모지를 허용하지 않으며, 수정의 용이성을 위해 일반적으로  ASCII 글자(영문)와 숫자만 쓴다.
{% endhint %}

> **유니코드 이스케이프 시퀀스**
>
> 컴퓨터 하드웨어와 소프트웨어 중에는 유니코드 문자 전체를 정확히 처리하지 못하는 것도 있다. 자바스크립트는 이런 구형 기술을 사용하는 프로그래머와 시스템을 지원하기 위해 ASCII 문자로 유니코드 문자를 표현하는 이스케이프 시퀀스를 정의한다. 유니코드 이스케이프는 `\u` 문자로 시작하고 뒤고 4개의 16진수 숫자를 쓰거나, 1\~6개의 16진수 숫자를 중괄호 안에 쓰는 형태이다. (자바스크립트 초기 버전은 숫자 네개를 쓰는 이스케이프 시퀀스만 지원했는데, 이모지처럼 16비트 이상이 필요한 유니코드 코드 포인트를 더 원활히 지원하기 위해 ES6부터 중괄호 문법을 도입했다.)

```javascript
let café = 'cafe'
caf\u00e9    // 4개의 16진수 숫자를 쓰는 방법
caf\u{E9}    // 1~6개의 16진수 숫자를 중괄호 안에 쓰는 방법 (ES6~)
```

> **유니코드 정규화**
>
> ASCII가 아닌 문자를 사용할 때는 유니코드에 해당 문자를 인코딩 하는 방법이 하나 이상이 있을 수 있음을 인지하고 있어야 한다. 텍스트 에디터에서는 똑같이 표시되지만, 이진 인코딩이 달라 자바스크립트 이 둘을 다른 것으로 간주하는 경우도 있다. 유니코드 표준에는 모든 문자에 대해 선호하는 인코딩 방이 정해져 있고, 비교에 적합한 형태로 변환하는 정규화 과정도 정해져 있다. 때문에 자바스크립트는 해석하고 있는 소스코드가 이미 정규화를 마친 상태라고 가정하여 스스로 정규화를 수행하지 않는다. 따라서 자바스크립트 프로그램에서 유니코드 문자를 쓸 때는 에디터나 다른 도구에서 해당 소스 코드를 유니코드 정규화해서 서로 다르지만 눈으로 구분할 수 없는 식별자가 생기지 않게 주의해야 한다.

```javascript
let café = 'cafe'
// caf\u{E9}: é를 단일 유니코드 문자 \u00E9로 인코드
// cafe\u{301}: ASCII 문자 e 다음 악센트 조합 기호 \u0301를 붙여 인코드
```

## 🐇 세미콜론

{% hint style="info" %}
자바스크립트는 줄바꿈 다음에 오는 공백 아닌 문자가 현재 문에 이어질 수 없다고 판단 할 때 줄바꿈을 세미콜론으로 취급한다. 때문에 줄바꿈을 통해 세미콜론을 생략 할 수도 있다.
{% endhint %}

> **세미콜론의 중요성**
>
> 하지만 의도치 않게 문을 종료하지 않게 되는 결과를 부를 수 있으므로 세미콜론이 반드시 필요하지 않더라도 세미콜론을 써서 문이 끝났음을 명확히 표시하는 것이 좋다. 일반적으로 `(` `[` `/` `+` 로 시작한다면 그 문은 이전 문이 계속되는 것으로 해석될 가능성이 있다.

```javascript
let sum = x + y
(a + b).toString()
// let sum = x + y(a + b).toString() 의도와 다르게 해석
```

> **방어적인 세미콜론**
>
> 방어적인 목적으로 문 앞에 세미콜론을 삽입해 설령 세미콜론이 사라지더라도 정확히 동작할 수 있도록 작성하는 프로그래머도 있다. 기본적으로 세미콜론을 입력해서 코드의 의미를 명확히 하도록 하자.

```javascript
let sum = x + y
;(a + b).toString()  // 방어적인 세미콜론으로 앞의 문과 분리
```
